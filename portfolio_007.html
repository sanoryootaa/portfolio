<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>佐野僚太 — Ryota Sano</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#fff;--fg:#000;--accent:#2563eb;
  --font:'Plus Jakarta Sans','Noto Sans JP',sans-serif;
  --big:24px;--sm:12px;--maxw:1200px;
}
html{scroll-behavior:smooth}
body{background:var(--bg);color:var(--fg);font-family:var(--font);font-size:var(--sm);line-height:1.6;overflow-x:hidden;-webkit-font-smoothing:antialiased}
::selection{background:var(--accent);color:#fff}
a{color:inherit;text-decoration:none}

/* CURSOR - always visible */
.cur,.cur-d,.cur-r{position:fixed;pointer-events:none;z-index:99999;top:0;left:0}
.cur-d{width:6px;height:6px;background:var(--fg);border-radius:50%;margin:-3px 0 0 -3px;transition:opacity .1s}
.cur-r{width:36px;height:36px;border:1px solid var(--fg);border-radius:50%;margin:-18px 0 0 -18px;transition:transform .2s,border-color .2s}
body.ch .cur-r{transform:scale(1.4);border-color:var(--accent)}
@media(pointer:coarse){.cur,.cur-d,.cur-r{display:none}body{cursor:auto}}
@media(pointer:fine){body{cursor:none}}

/* NAV */
nav{position:fixed;top:0;left:0;right:0;z-index:100;padding:20px 32px;display:flex;justify-content:space-between;align-items:center;background:rgba(255,255,255,.95);backdrop-filter:blur(12px);border-bottom:1px solid var(--fg)}
.nav-n{font-weight:500;font-size:var(--sm);letter-spacing:.02em;pointer-events:none}

/* NAV MENU - minimal toggle */
.nav-toggle{font-size:var(--sm);letter-spacing:.06em;text-transform:uppercase;background:none;border:none;cursor:pointer;padding:6px 0;display:flex;align-items:center;gap:8px;color:var(--fg)}
.nav-toggle .bar{display:flex;flex-direction:column;gap:3px}
.nav-toggle .bar span{display:block;width:16px;height:1.5px;background:var(--fg);transition:all .2s}
.nav-toggle:hover .bar span{background:var(--accent)}
.nav-menu{position:fixed;top:0;right:0;width:280px;height:100vh;background:var(--bg);border-left:1px solid var(--fg);z-index:101;transform:translateX(100%);transition:transform .3s ease;display:flex;flex-direction:column;justify-content:center;padding:40px}
.nav-menu.open{transform:translateX(0)}
.nav-menu a{font-size:var(--big);font-weight:700;letter-spacing:-.02em;text-transform:uppercase;display:block;padding:12px 0;border-bottom:1px solid var(--fg);transition:color .15s}
.nav-menu a:hover{color:var(--accent)}
.nav-menu-close{position:absolute;top:20px;right:20px;font-size:var(--sm);background:none;border:none;cursor:pointer;letter-spacing:.06em;text-transform:uppercase}
.nav-overlay{position:fixed;inset:0;background:rgba(0,0,0,.1);z-index:100;opacity:0;visibility:hidden;transition:all .3s}
.nav-overlay.open{opacity:1;visibility:visible}

/* CONTAINER */
.c{max-width:var(--maxw);margin:0 auto;padding:0 32px}
@media(max-width:768px){.c{padding:0 20px}}

/* SECTION */
.sec{padding:100px 0 80px;border-top:1px solid var(--fg)}
.sec-t{font-size:var(--big);font-weight:700;letter-spacing:-.02em;margin-bottom:48px;text-transform:uppercase}

/* REEL */
#reel{background:var(--fg);padding:80px 0;border-top:none}
.reel-wrap{position:relative;max-width:960px;margin:0 auto}
.reel-label{position:absolute;top:0;left:-40px;font-size:var(--sm);font-weight:600;letter-spacing:.15em;text-transform:uppercase;color:var(--bg);writing-mode:vertical-lr;transform:rotate(180deg);opacity:.5}
.reel-f{aspect-ratio:16/9;background:#111;overflow:hidden}
.reel-f iframe{width:100%;height:100%;border:none}
.reel-ph{width:100%;height:100%;display:flex;align-items:center;justify-content:center;cursor:pointer}
.reel-btn{width:60px;height:60px;border:1.5px solid rgba(255,255,255,.4);border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s}
.reel-btn::after{content:'';border-left:14px solid #fff;border-top:9px solid transparent;border-bottom:9px solid transparent;margin-left:3px}
.reel-ph:hover .reel-btn{border-color:var(--accent)}
.reel-ph:hover .reel-btn::after{border-left-color:var(--accent)}

/* TICKER */
.ticker{padding:16px 0;border-top:1px solid var(--fg);border-bottom:1px solid var(--fg);overflow:hidden}
.ticker-t{display:flex;gap:48px;width:max-content;color:var(--accent)}
.ticker-t span{font-size:var(--sm);letter-spacing:.06em;text-transform:uppercase;white-space:nowrap}
.ticker-l{animation:tl 30s linear infinite}
.ticker-r{animation:tr 30s linear infinite}
@keyframes tl{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}
@keyframes tr{0%{transform:translateX(-50%)}100%{transform:translateX(0)}}

/* WORKS */
.fbar{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:40px}
.ft{font-size:var(--sm);letter-spacing:.06em;text-transform:uppercase;padding:6px 14px;border:1px solid var(--fg);background:var(--bg);cursor:pointer;transition:all .12s}
.ft:hover,.ft.on{background:var(--fg);color:var(--bg)}

.wg{display:grid;grid-template-columns:repeat(12,1fr);gap:20px;row-gap:48px}
.wi{cursor:pointer;position:relative}
.wi:nth-child(5n+1){grid-column:span 7}
.wi:nth-child(5n+2){grid-column:span 5}
.wi:nth-child(5n+3){grid-column:span 4}
.wi:nth-child(5n+4){grid-column:span 8}
.wi:nth-child(5n+5){grid-column:span 6}
.wi-img{aspect-ratio:16/10;overflow:hidden;background:var(--fg)}
.wi-img img{width:100%;height:100%;object-fit:cover;transition:transform .5s cubic-bezier(.16,1,.3,1)}
.wi:hover .wi-img img{transform:scale(1.03)}
.wi-ov{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:flex-end;padding:12px;opacity:0;transition:opacity .3s}
.wi:hover .wi-ov{opacity:1}
.wi-ov span{font-size:var(--sm);letter-spacing:.06em;text-transform:uppercase;color:var(--bg);background:var(--fg);padding:3px 8px}
/* Compact info: title · cat · year on one line */
.wi-nfo{padding:8px 0 0;display:flex;align-items:baseline;gap:8px;flex-wrap:wrap}
.wi-tt{font-size:var(--sm);font-weight:600}
.wi-sep{font-size:var(--sm);opacity:.25}
.wi-cat{font-size:var(--sm);opacity:.4;letter-spacing:.04em;text-transform:uppercase}

/* WORK OVERLAY */
.wo{position:fixed;inset:0;z-index:1000;background:var(--bg);overflow-y:auto;opacity:0;visibility:hidden;transition:opacity .3s,visibility .3s}
.wo.on{opacity:1;visibility:visible}
.wo-x{position:fixed;top:20px;right:28px;z-index:1001;width:44px;height:44px;border-radius:50%;border:1px solid var(--fg);background:var(--bg);display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:18px;transition:all .15s}
.wo-x:hover{background:var(--fg);color:var(--bg)}
.wd{max-width:860px;margin:0 auto;padding:72px 32px 140px}
.wd-vid{aspect-ratio:16/9;background:var(--fg);margin-bottom:40px;overflow:hidden}
.wd-vid iframe,.wd-vid img{width:100%;height:100%;object-fit:cover;border:none}
.wd-tt{font-size:var(--big);font-weight:700;letter-spacing:-.02em;margin-bottom:6px}
.wd-meta{display:flex;gap:20px;font-size:var(--sm);opacity:.4;letter-spacing:.06em;text-transform:uppercase;margin-bottom:36px}
.wd-sec{margin-bottom:32px}
.wd-lbl{font-size:var(--sm);letter-spacing:.15em;text-transform:uppercase;opacity:.4;margin-bottom:8px}
.wd-txt{font-size:var(--sm);line-height:2.2}
.wd-creds{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:16px}
.cr-r{font-size:var(--sm);letter-spacing:.1em;text-transform:uppercase;opacity:.4;margin-bottom:2px}
.cr-n{font-size:var(--sm)}
.wp-btn{font-size:var(--sm);letter-spacing:.06em;text-transform:uppercase;background:none;border:1px solid var(--fg);padding:10px 22px;cursor:pointer;transition:all .12s;margin-top:16px}
.wp-btn:hover{background:var(--fg);color:var(--bg)}
.wp{max-height:0;overflow:hidden;transition:max-height .5s}
.wp.open{max-height:4000px}
.wp-in{padding-top:32px}
.wp-g{display:grid;grid-template-columns:1fr 1fr 1fr;gap:16px;margin-bottom:24px}
.wp-g .l{font-size:var(--sm);letter-spacing:.1em;text-transform:uppercase;opacity:.4;margin-bottom:3px}
.wp-g .v{font-size:var(--sm)}
.wp-in img{width:100%;margin:16px 0}

/* AWARDS */
.al{}
.ar{display:grid;grid-template-columns:52px 1fr auto;gap:16px;padding:14px 0;border-bottom:1px solid var(--fg);align-items:center}
.ar .y{font-size:var(--sm);opacity:.4}
.ar .t{font-size:var(--sm);font-weight:500}
.ar .tp{font-size:var(--sm);opacity:.4;letter-spacing:.04em;text-transform:uppercase}
.ar-exp{max-height:0;overflow:hidden;transition:max-height .3s,padding .3s;border-bottom:1px solid transparent}
.ar-exp.show{max-height:48px;padding:10px 0;border-color:var(--fg)}
.ar-exp a{font-size:var(--sm);letter-spacing:.06em;text-transform:uppercase;color:var(--accent);margin-left:68px}
.ar-exp a:hover{opacity:.5}

/* ABOUT */
.ab-flex{display:flex;gap:48px;align-items:flex-start}
.ab-ph{width:200px;flex-shrink:0;aspect-ratio:3/4;background:var(--fg);overflow:hidden;display:flex;align-items:center;justify-content:center}
.ab-ph img{width:100%;height:100%;object-fit:cover}
.ab-ph span{font-size:var(--sm);color:var(--bg);text-transform:uppercase;letter-spacing:.1em}
.ab-nm{font-size:var(--big);font-weight:700;letter-spacing:-.02em;margin-bottom:4px}
.ab-sub{font-size:var(--sm);opacity:.4;margin-bottom:20px}
.ab-bio{font-size:var(--sm);line-height:2.2;margin-bottom:24px}
.ab-info{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:24px}
.ab-info .l{font-size:var(--sm);letter-spacing:.1em;text-transform:uppercase;opacity:.4;margin-bottom:3px}
.ab-info .v{font-size:var(--sm);line-height:1.7}
.ab-soc{display:flex;gap:12px}
.ab-soc a{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border:1px solid var(--fg);border-radius:50%;transition:border-color .2s,color .2s}
.ab-soc a:hover{border-color:var(--accent);color:var(--accent)}
.ab-soc svg{width:15px;height:15px;fill:currentColor}

/* CONTACT */
#contact{text-align:center;padding:80px 0 60px;border-top:1px solid var(--fg)}
.ct-lbl{font-size:var(--big);font-weight:700;text-transform:uppercase;letter-spacing:-.02em;margin-bottom:16px}
.ct-email a{font-size:var(--sm);letter-spacing:.06em;border-bottom:1.5px solid var(--accent);padding-bottom:3px;transition:color .2s}
.ct-email a:hover{color:var(--accent)}

/* SNAPS - narrower, minimal */
#snaps{padding:80px 0 60px;border-top:1px solid var(--fg);overflow:hidden}
#snaps .sec-t{padding:0 32px;margin-bottom:24px}
.snap-rows{display:flex;flex-direction:column;gap:6px}
.snap-row{display:flex;gap:6px;width:max-content}
.snap-row img{height:140px;width:auto;object-fit:cover;flex-shrink:0}
.snap-r1{animation:tl 45s linear infinite}
.snap-r2{animation:tr 50s linear infinite}
.snap-r3{animation:tl 42s linear infinite}

/* FOOTER */
footer{padding:20px 32px 24px;display:flex;justify-content:space-between;align-items:center}
footer span{font-size:var(--sm);opacity:.4}
.fl{display:flex;gap:16px}
.fl a{font-size:var(--sm);opacity:.4;transition:opacity .2s}
.fl a:hover{opacity:1}

@media(max-width:768px){
  :root{--big:20px}
  nav{padding:14px 20px}
  .reel-label{display:none}
  .wg{grid-template-columns:1fr}
  .wi:nth-child(n){grid-column:span 1}
  .ab-flex{flex-direction:column;gap:24px}
  .ab-ph{width:160px}
  .ab-info{grid-template-columns:1fr}
  .wp-g{grid-template-columns:1fr}
  .ar{grid-template-columns:44px 1fr;gap:8px}
  .ar .tp{grid-column:2}
  .snap-row img{height:100px}
  footer{flex-direction:column;gap:10px;padding:20px}
  .nav-menu{width:100%}
}
</style>
</head>
<body>

<div class="cur-d" id="cd"></div>
<div class="cur-r" id="cr"></div>

<div class="nav-overlay" id="nav-ov"></div>
<div class="nav-menu" id="nav-menu">
  <button class="nav-menu-close" id="nav-close">Close</button>
  <a href="#reel" class="nm-link" data-key="section_reel">Showreel</a>
  <a href="#works" class="nm-link" data-key="section_works">Selected Works</a>
  <a href="#awards" class="nm-link" data-key="section_awards">Awards & Screening</a>
  <a href="#about" class="nm-link" data-key="section_about">About</a>
  <a href="#contact" class="nm-link" data-key="section_contact">Contact</a>
  <a href="#snaps" class="nm-link" data-key="section_snaps">Random Snaps</a>
</div>

<nav>
  <span class="nav-n">佐野僚太</span>
  <button class="nav-toggle" id="nav-tog">
    Menu
    <span class="bar"><span></span><span></span></span>
  </button>
</nav>

<div style="height:61px"></div>

<section id="reel" style="border-top:none">
  <div class="c">
    <div class="reel-wrap">
      <div class="reel-label" id="reel-label">Showreel</div>
      <div class="reel-f" id="rf"><div class="reel-ph" id="rph"><div class="reel-btn"></div></div></div>
    </div>
  </div>
</section>

<div class="ticker" id="tk1"></div>

<section id="works" class="sec">
  <div class="c">
    <div class="sec-t" id="st-works">Selected Works</div>
    <div class="fbar" id="fbar"></div>
    <div class="wg" id="wg"></div>
  </div>
</section>

<div class="wo" id="wo">
  <button class="wo-x" id="wx">✕</button>
  <div class="wd" id="wd"></div>
</div>

<div class="ticker" id="tk2"></div>

<section id="awards" class="sec">
  <div class="c">
    <div class="sec-t" id="st-awards">Awards & Screening</div>
    <div class="al" id="al"></div>
  </div>
</section>

<section id="about" class="sec">
  <div class="c">
    <div class="sec-t" id="st-about">About</div>
    <div class="ab-flex">
      <div class="ab-ph" id="aph"><span>Photo</span></div>
      <div>
        <div class="ab-nm" id="anm">佐野僚太 - Ryota Sano</div>
        <div class="ab-sub" id="asub">Film / Projection Mapping / Installation</div>
        <div class="ab-bio" id="abio"></div>
        <div class="ab-info" id="ainf"></div>
        <div class="ab-soc" id="asoc"></div>
      </div>
    </div>
  </div>
</section>

<section id="contact">
  <div class="c">
    <div class="ct-lbl" id="st-contact">Contact</div>
    <div class="ct-email"><a href="" id="cem"></a></div>
  </div>
</section>

<section id="snaps">
  <div class="sec-t" style="padding:0 32px" id="st-snaps">Random Snaps</div>
  <div class="snap-rows" id="snap-rows"></div>
</section>

<footer><span id="fc">© 2026 佐野僚太</span><div class="fl" id="fll"></div></footer>

<script>
// ============================================================
// CONFIG - paste spreadsheet CSV URLs here
// ============================================================
const CONFIG={
  WORKS_CSV_URL:'https://docs.google.com/spreadsheets/d/e/2PACX-1vSuoRTrcfonq48DTgJXLe3CQEq_F4WNCXP5-MiFGMPg61UjoSx9VATLOamhNBa0M33VpFAFJOpQir1Q/pub?gid=0&single=true&output=csv',
  PROFILE_CSV_URL:'https://docs.google.com/spreadsheets/d/e/2PACX-1vSuoRTrcfonq48DTgJXLe3CQEq_F4WNCXP5-MiFGMPg61UjoSx9VATLOamhNBa0M33VpFAFJOpQir1Q/pub?gid=2096592205&single=true&output=csv',
  AWARDS_CSV_URL:'https://docs.google.com/spreadsheets/d/e/2PACX-1vSuoRTrcfonq48DTgJXLe3CQEq_F4WNCXP5-MiFGMPg61UjoSx9VATLOamhNBa0M33VpFAFJOpQir1Q/pub?gid=1386802646&single=true&output=csv',
  SHOWREEL_URL:'',     // Vimeo/YouTube embed URL
};

// ============================================================
// DEFAULT LABELS - all overridable from profile spreadsheet
// ============================================================
const LABELS={
  section_reel:'Showreel',
  section_works:'Selected Works',
  section_awards:'Awards & Screening',
  section_about:'About',
  section_contact:'Contact',
  section_snaps:'Random Snaps',
  label_concept:'Concept',
  label_credits:'Credits',
  label_process:'Process & Insight',
  label_process_close:'Close',
  label_team:'Team',
  label_role:'Role',
  label_tools:'Tools',
  label_education:'Education',
  label_location:'Location',
  label_view:'View →',
  filter_all:'All',
  ticker_keywords:'#film,#projectionmapping,#installation,#light,#touchdesigner,#resolume,#映像,#空間演出,#experimental,#media_art',
  nav_menu:'Menu',
  nav_close:'Close',
};

// ============================================================
// DEMO DATA
// ============================================================
const DW=[
  {title:'Silence Between Frames',category:'Film',description:'静寂の中に潜む感情を光と影のコントラストで描いた実験的ショートフィルム。',thumbnail:'https://images.unsplash.com/photo-1536440136628-849c177e76a1?w=800&q=80',video_url:'',year:'2025.01',concept:'人間の感情の「あいだ」に存在する静寂を映像化する試み。フレームとフレームの間にある不可視の時間に焦点を当てた。',credits:'Director: Ryota Sano\nCinematographer: Demo Name\nSound: Demo Name',team_size:'4',role:'Director / Editor',tools_used:'Premiere Pro, After Effects, DaVinci Resolve',process:'フィールドリサーチとして日常の中の「間」を3ヶ月間記録。得たテクスチャを元にカット割りと音響設計を同時進行。編集では24fpsのうち特定フレームを意図的に抜き知覚できない不連続性を生み出した。'},
  {title:'LUMINA',category:'Projection Mapping',description:'建築物の構造を読み解き光と音で再構築するプロジェクションマッピング作品。',thumbnail:'https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=800&q=80',video_url:'',year:'2025.03',concept:'建築を光のキャンバスとして再定義するプロジェクト。構造体の幾何学を解体し光で新しい空間体験を生成する。',credits:'Creative Director: Ryota Sano\nTechnical Director: Demo Name\nSound Design: Demo Name',team_size:'6',role:'Creative Director / Visual Programmer',tools_used:'Resolume Arena, TouchDesigner, Blender, Ableton Live',process:'3Dスキャンで建築物のポイントクラウドを取得。TouchDesignerでリアルタイム映像生成システムを構築しAbleton LiveとMIDIマッピングで映像と音響を完全同期させた。'},
  {title:'The Weight of Light',category:'Installation',description:'光の質量を問う映像インスタレーション。自然光の変化を48時間記録。',thumbnail:'https://images.unsplash.com/photo-1518005020951-eccb494ad742?w=800&q=80',video_url:'',year:'2024.09',concept:'光に重さはあるのか。物理的には光子に質量はないが体験としての光には引力がある。その矛盾を空間化した。',credits:'Artist: Ryota Sano\nTechnical Support: Demo Name',team_size:'2',role:'Artist / Technical Design',tools_used:'TouchDesigner, Arduino, Custom LED',process:'48時間のタイムラプス撮影で得た自然光データをLEDパネルとスクリーンの二層構造で再生。観客は光の変化を浴びる体験として受け取る。'},
  {title:'Urban Fragments',category:'Film',description:'都市の断片を集め再構成することで見えてくる新しい風景。',thumbnail:'https://images.unsplash.com/photo-1514565131-fce0801e5785?w=800&q=80',video_url:'',year:'2024.06',concept:'都市を一枚のフレームではなく無数のフラグメントの集積として捉え直す。断片化された映像が新しい全体像を形成する。',credits:'Director: Ryota Sano',team_size:'1',role:'Director / Editor / Cinematographer',tools_used:'Premiere Pro, After Effects',process:'6ヶ月間東京各地で撮影した映像素材を色温度と動きのベクトルでカテゴライズ。アルゴリズム的な編集手法で再構成した。'},
  {title:'Nocturne',category:'Projection Mapping',description:'夜の公共空間に介入する光のインスタレーション。',thumbnail:'https://images.unsplash.com/photo-1477346611705-65d1883cee1e?w=800&q=80',video_url:'',year:'2024.11',concept:'夜の公共空間に一時的な光の介入を行い通行人の動きがリアルタイムで映像に影響するインタラクティブな作品。',credits:'Director: Ryota Sano\nProgrammer: Demo Name\nSound: Demo Name',team_size:'3',role:'Director / Visual Design',tools_used:'Resolume Arena, Kinect, Max/MSP',process:'Kinectセンサーで通行人の動きを検出しMax/MSPを経由してResolumeにデータ送信。人の流れが光のパターンを変化させるインタラクティブシステムを構築した。'},
];
const DA=[
  {year:'2025',title:'Example Media Arts Festival — Grand Prize',type:'Award',work_index:'0'},
  {year:'2025',title:'Example Gallery, Tokyo — Solo Screening',type:'Screening',work_index:'1'},
  {year:'2024',title:'Example International Film Festival — Official Selection',type:'Screening',work_index:'0'},
  {year:'2024',title:'Example Museum of Art — Group Exhibition',type:'Screening',work_index:'2'},
  {year:'2024',title:'Example Design Award — Honorable Mention',type:'Award',work_index:'4'},
];
const DP={name:'Ryota Sano',name_jp:'佐野僚太',tagline:'Film / Projection Mapping / Installation',about:'映像、プロジェクションマッピング、インスタレーションを軸に活動。光と空間の関係性を探り、テクノロジーと身体感覚の境界を問う作品を制作しています。',email:'hello@example.com',location:'Tokyo, Japan',tools:'Resolume, TouchDesigner, After Effects, Premiere Pro, Blender',education:'Example University — Media Art',social_instagram:'https://instagram.com',social_vimeo:'https://vimeo.com',social_youtube:'https://youtube.com'};
const DS=['https://images.unsplash.com/photo-1501854140801-50d01698950b?w=400&q=80','https://images.unsplash.com/photo-1519681393784-d120267933ba?w=400&q=80','https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?w=400&q=80','https://images.unsplash.com/photo-1447752875215-b2761acb3c5d?w=400&q=80','https://images.unsplash.com/photo-1433086966358-54859d0ed716?w=400&q=80','https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=400&q=80','https://images.unsplash.com/photo-1472214103451-9374bd1c798e?w=400&q=80','https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=400&q=80','https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?w=400&q=80'];

// CSV
function parseCSV(t){const l=t.trim().split('\n');if(l.length<2)return[];const pr=r=>{const s=[];let c='',q=false;for(let i=0;i<r.length;i++){const h=r[i];if(q){if(h==='"'&&r[i+1]==='"'){c+='"';i++}else if(h==='"')q=false;else c+=h}else{if(h==='"')q=true;else if(h===','){s.push(c.trim());c=''}else c+=h}}s.push(c.trim());return s};const h=pr(l[0]).map(x=>x.toLowerCase().replace(/\s+/g,'_'));const rows=[];for(let i=1;i<l.length;i++){if(!l[i].trim())continue;const v=pr(l[i]);const o={};h.forEach((k,j)=>{o[k]=v[j]||''});rows.push(o)}return rows}
function parsePro(r){if(!r.length)return null;const p={};r.forEach(row=>{const k=(row.key||row['項目']||Object.values(row)[0]||'').toLowerCase().replace(/\s+/g,'_');const v=row.value||row['内容']||Object.values(row)[1]||'';if(k)p[k]=v});return p}
async function fcsv(u){const r=await fetch(u);if(!r.ok)throw new Error(r.status);return await r.text()}
async function load(){
  let w=DW,p=DP,a=DA,s=DS;
  if(CONFIG.WORKS_CSV_URL){try{const d=parseCSV(await fcsv(CONFIG.WORKS_CSV_URL));if(d.length)w=d}catch(e){}}
  if(CONFIG.PROFILE_CSV_URL){try{const d=parsePro(parseCSV(await fcsv(CONFIG.PROFILE_CSV_URL)));if(d){
    // Merge profile data AND label overrides
    Object.keys(d).forEach(k=>{if(k.startsWith('section_')||k.startsWith('label_')||k.startsWith('filter_')||k.startsWith('ticker_')||k.startsWith('nav_'))LABELS[k]=d[k];else p={...p,[k]:d[k]}});
    p={...DP,...p};
  }}catch(e){}}
  if(CONFIG.AWARDS_CSV_URL){try{const d=parseCSV(await fcsv(CONFIG.AWARDS_CSV_URL));if(d.length)a=d}catch(e){}}
  return{works:w,profile:p,awards:a,snaps:s};
}

let AW=[];
const ico={ig:`<svg viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"/></svg>`,vi:`<svg viewBox="0 0 24 24"><path d="M23.977 6.416c-.105 2.338-1.739 5.543-4.894 9.609-3.268 4.247-6.026 6.37-8.29 6.37-1.409 0-2.578-1.294-3.553-3.881L5.322 11.4C4.603 8.816 3.834 7.522 3.01 7.522c-.179 0-.806.378-1.881 1.132L0 7.197c1.185-1.044 2.351-2.084 3.501-3.128C5.08 2.701 6.266 1.984 7.055 1.91c1.867-.18 3.016 1.1 3.447 3.838.465 2.953.789 4.789.971 5.507.539 2.45 1.131 3.674 1.776 3.674.502 0 1.256-.796 2.265-2.385 1.004-1.589 1.54-2.797 1.612-3.628.144-1.371-.395-2.061-1.614-2.061-.574 0-1.167.121-1.777.391 1.186-3.868 3.434-5.757 6.762-5.637 2.473.06 3.628 1.664 3.493 4.797l-.013.01z"/></svg>`,yt:`<svg viewBox="0 0 24 24"><path d="M23.498 6.186a3.016 3.016 0 00-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 00.502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 002.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 002.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg>`};

// Apply labels to DOM
function applyLabels(){
  document.getElementById('st-works').textContent=LABELS.section_works;
  document.getElementById('st-awards').textContent=LABELS.section_awards;
  document.getElementById('st-about').textContent=LABELS.section_about;
  document.getElementById('st-contact').textContent=LABELS.section_contact;
  document.getElementById('st-snaps').textContent=LABELS.section_snaps;
  document.getElementById('reel-label').textContent=LABELS.section_reel;
  document.getElementById('nav-tog').innerHTML=`${LABELS.nav_menu} <span class="bar"><span></span><span></span></span>`;
  document.getElementById('nav-close').textContent=LABELS.nav_close;
  document.querySelectorAll('.nm-link').forEach(a=>{const k=a.dataset.key;if(k&&LABELS[k])a.textContent=LABELS[k]});
}

function rPro(p){
  document.getElementById('anm').textContent=`${p.name_jp||'佐野僚太'} - ${p.name||'Ryota Sano'}`;
  document.getElementById('abio').textContent=p.about||'';
  const i=document.getElementById('ainf');i.innerHTML='';
  [['Education',p.education],['Location',p.location],['Tools',p.tools]].forEach(([l,v])=>{if(!v)return;i.innerHTML+=`<div><div class="l">${l}</div><div class="v">${v}</div></div>`});
  if(p.email){const e=document.getElementById('cem');e.href='mailto:'+p.email;e.textContent=p.email}
  const s=document.getElementById('asoc');s.innerHTML='';
  if(p.social_instagram)s.innerHTML+=`<a href="${p.social_instagram}" target="_blank">${ico.ig}</a>`;
  if(p.social_vimeo)s.innerHTML+=`<a href="${p.social_vimeo}" target="_blank">${ico.vi}</a>`;
  if(p.social_youtube)s.innerHTML+=`<a href="${p.social_youtube}" target="_blank">${ico.yt}</a>`;
  document.getElementById('fc').textContent=`© ${new Date().getFullYear()} ${p.name_jp||''}`;
  const f=document.getElementById('fll');f.innerHTML='';
  if(p.social_instagram)f.innerHTML+=`<a href="${p.social_instagram}" target="_blank">Instagram</a>`;
  if(p.social_vimeo)f.innerHTML+=`<a href="${p.social_vimeo}" target="_blank">Vimeo</a>`;
  if(p.social_youtube)f.innerHTML+=`<a href="${p.social_youtube}" target="_blank">YouTube</a>`;
}
function rReel(){if(CONFIG.SHOWREEL_URL)document.getElementById('rf').innerHTML=`<iframe src="${CONFIG.SHOWREEL_URL}" allow="autoplay;fullscreen;picture-in-picture" allowfullscreen></iframe>`}
function rW(works,filter){
  AW=works;const f=filter&&filter!==LABELS.filter_all?works.filter(w=>w.category===filter):works;
  const g=document.getElementById('wg');g.innerHTML='';
  f.forEach((w,i)=>{
    const c=document.createElement('div');c.className='wi';
    // Show just year portion for card
    const yr=(w.year||'').split('.')[0];
    c.innerHTML=`<div class="wi-img"><img src="${w.thumbnail||''}" alt="${w.title||''}" loading="lazy"><div class="wi-ov"><span>${LABELS.label_view}</span></div></div><div class="wi-nfo"><span class="wi-tt">${w.title||''}</span><span class="wi-sep">·</span><span class="wi-cat">${w.category||''}</span><span class="wi-sep">·</span><span class="wi-cat">${yr}</span></div>`;
    c.addEventListener('click',()=>oW(works.indexOf(w)));
    g.appendChild(c);
  });
}
function rF(w){
  const cats=[LABELS.filter_all,...new Set(w.map(x=>x.category).filter(Boolean))];
  const b=document.getElementById('fbar');
  b.innerHTML=cats.map(c=>`<button class="ft${c===LABELS.filter_all?' on':''}" data-c="${c}">${c}</button>`).join('');
  b.addEventListener('click',e=>{const t=e.target.closest('.ft');if(!t)return;b.querySelectorAll('.ft').forEach(x=>x.classList.remove('on'));t.classList.add('on');rW(AW,t.dataset.c)});
}
function oW(i){
  const w=AW[i];if(!w)return;
  const o=document.getElementById('wo'),d=document.getElementById('wd');
  let m='';if(w.video_url)m=`<iframe src="${w.video_url}" allow="autoplay;fullscreen" allowfullscreen></iframe>`;else if(w.thumbnail)m=`<img src="${w.thumbnail}" alt="">`;
  const cr=(w.credits||'').split('\n').filter(Boolean).map(c=>{const[r,...n]=c.split(':');return`<div><div class="cr-r">${r.trim()}</div><div class="cr-n">${n.join(':').trim()}</div></div>`}).join('');
  d.innerHTML=`<div class="wd-vid">${m}</div><div class="wd-tt">${w.title||''}</div><div class="wd-meta"><span>${w.category||''}</span><span>${w.year||''}</span></div><div class="wd-sec"><div class="wd-lbl">${LABELS.label_concept}</div><div class="wd-txt">${w.concept||w.description||''}</div></div>${cr?`<div class="wd-sec"><div class="wd-lbl">${LABELS.label_credits}</div><div class="wd-creds">${cr}</div></div>`:''}<button class="wp-btn" id="pb">${LABELS.label_process} ↓</button><div class="wp" id="pc"><div class="wp-in"><div class="wp-g">${w.team_size?`<div><div class="l">${LABELS.label_team}</div><div class="v">${w.team_size}</div></div>`:''}${w.role?`<div><div class="l">${LABELS.label_role}</div><div class="v">${w.role}</div></div>`:''}${w.tools_used?`<div><div class="l">${LABELS.label_tools}</div><div class="v">${w.tools_used}</div></div>`:''}</div><div class="wd-lbl">Process</div><div class="wd-txt">${w.process||''}</div></div></div>`;
  o.classList.add('on');document.body.style.overflow='hidden';
  setTimeout(()=>{const b=document.getElementById('pb'),p=document.getElementById('pc');b?.addEventListener('click',()=>{p.classList.toggle('open');b.textContent=p.classList.contains('open')?`${LABELS.label_process_close} ↑`:`${LABELS.label_process} ↓`})},50);
}
document.getElementById('wx').addEventListener('click',()=>{document.getElementById('wo').classList.remove('on');document.body.style.overflow=''});

function rA(awards){
  const l=document.getElementById('al');l.innerHTML='';
  awards.forEach(a=>{
    const r=document.createElement('div');r.className='ar';
    r.innerHTML=`<span class="y">${a.year||''}</span><span class="t">${a.title||''}</span><span class="tp">${a.type||''}</span>`;
    const ex=document.createElement('div');ex.className='ar-exp';
    const idx=parseInt(a.work_index);
    if(!isNaN(idx)&&AW[idx]){ex.innerHTML=`<a href="javascript:void(0)">${LABELS.label_view.replace('→','')} "${AW[idx].title}" →</a>`;ex.querySelector('a').addEventListener('click',()=>oW(idx))}
    l.appendChild(r);l.appendChild(ex);
    r.addEventListener('mouseenter',()=>ex.classList.add('show'));
    r.addEventListener('mouseleave',()=>{setTimeout(()=>{if(!ex.matches(':hover'))ex.classList.remove('show')},100)});
    ex.addEventListener('mouseleave',()=>ex.classList.remove('show'));
  });
}

function rTicker(id,dir){
  const kw=LABELS.ticker_keywords.split(',').map(s=>s.trim());
  const h=[...kw,...kw,...kw,...kw].map(k=>`<span>${k}</span>`).join('');
  document.getElementById(id).innerHTML=`<div class="ticker-t ${dir}">${h}</div>`;
}

function rSnaps(snaps){
  const rows=document.getElementById('snap-rows');rows.innerHTML='';
  const third=Math.ceil(snaps.length/3);
  const chunks=[snaps.slice(0,third),snaps.slice(third,third*2),snaps.slice(third*2)];
  const cls=['snap-r1','snap-r2','snap-r3'];
  chunks.forEach((ck,i)=>{if(!ck.length)return;const imgs=[...ck,...ck,...ck,...ck].map(s=>`<img src="${s}" alt="" loading="lazy">`).join('');rows.innerHTML+=`<div class="snap-row ${cls[i]}">${imgs}</div>`});
}

// NAV MENU
const tog=document.getElementById('nav-tog'),menu=document.getElementById('nav-menu'),ov=document.getElementById('nav-ov'),cls=document.getElementById('nav-close');
function openMenu(){menu.classList.add('open');ov.classList.add('open')}
function closeMenu(){menu.classList.remove('open');ov.classList.remove('open')}
tog.addEventListener('click',openMenu);
cls.addEventListener('click',closeMenu);
ov.addEventListener('click',closeMenu);
menu.querySelectorAll('a').forEach(a=>a.addEventListener('click',closeMenu));

// CURSOR
function setupCur(){
  if(window.matchMedia('(pointer:coarse)').matches)return;
  const d=document.getElementById('cd'),r=document.getElementById('cr');
  let mx=-100,my=-100,rx=-100,ry=-100,init=false;
  document.addEventListener('mousemove',e=>{
    mx=e.clientX;my=e.clientY;
    d.style.left=mx+'px';d.style.top=my+'px';
    if(!init){rx=mx;ry=my;init=true}
  });
  (function lp(){rx+=(mx-rx)*.12;ry+=(my-ry)*.12;r.style.left=rx+'px';r.style.top=ry+'px';requestAnimationFrame(lp)})();
  const hs='a,button,.wi,.reel-ph,.ft,.wo-x,.nav-toggle,.nav-menu-close';
  document.addEventListener('mouseover',e=>{if(e.target.closest(hs))document.body.classList.add('ch')});
  document.addEventListener('mouseout',e=>{if(e.target.closest(hs))document.body.classList.remove('ch')});
}

async function init(){
  setupCur();
  const{works,profile,awards,snaps}=await load();
  AW=works;
  applyLabels();
  rPro(profile);rReel();rF(works);rW(works);rA(awards);rSnaps(snaps);
  rTicker('tk1','ticker-l');rTicker('tk2','ticker-r');
}
init();
</script>
</body>
</html>
